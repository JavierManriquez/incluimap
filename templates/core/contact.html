{% extends "base.html" %}
{% load static %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/contacto.css' %}">
{% endblock %}

{% block content %}

<div class="contact-wrap">
  <div class="page-head contact-head">
    <div>
      <div class="contact-eyebrow">Hablemos</div>
      <div class="h1">Contacto</div>
      <div class="subtle">
        Â¿Tienes dudas, barreras de accesibilidad o ideas para mejorar IncluiMap? EscrÃ­benos.
      </div>
    </div>
  </div>

  {# Mensajes de Ã©xito / error SOLO de la vista de contacto #}
  {% if messages %}
    <div class="contact-messages">
      {% for message in messages %}
        {% if "contact" in message.tags %}
          <div class="contact-message contact-message-{{ message.level_tag }}">
            {{ message }}
          </div>
        {% endif %}
      {% endfor %}
    </div>
  {% endif %}

  <div class="contact-layout">
    
    <div class="card pad contact-card">
      <form class="form"
            method="post"
            action="{% url 'contact' %}">
        {% csrf_token %}
        <div class="form-grid">
          <div>
            <label for="id_nombre">Nombre</label>
            <input id="id_nombre"
                   name="nombre"
                   class="input"
                   required
                   value="{{ form_data.nombre|default:'' }}">
          </div>

          <div>
            <label for="id_email">Email</label>
            <input id="id_email"
                   name="email"
                   class="input"
                   type="email"
                   required
                   value="{{ form_data.email|default:'' }}">
          </div>

          <div class="full">
            <label for="id_tipo">Tipo de mensaje</label>
            <select id="id_tipo"
                    name="tipo"
                    class="input">
              <option {% if form_data.tipo == "Consulta general" %}selected{% endif %}>
                Consulta general
              </option>
              <option {% if form_data.tipo == "Reporte de problema de accesibilidad" %}selected{% endif %}>
                Reporte de problema de accesibilidad
              </option>
              <option {% if form_data.tipo == "Idea o mejora para la plataforma" %}selected{% endif %}>
                Idea o mejora para la plataforma
              </option>
              <option {% if form_data.tipo == "Quiero colaborar con el proyecto" %}selected{% endif %}>
                Quiero colaborar con el proyecto
              </option>
            </select>
          </div>

          <div class="full">
            <label for="id_mensaje">Mensaje</label>
            <textarea id="id_mensaje"
                      name="mensaje"
                      class="input"
                      rows="5"
                      required>{{ form_data.mensaje|default:'' }}</textarea>
          </div>
        </div>

        <div class="contact-footer">
          <p class="contact-hint">
            Te responderemos en un plazo mÃ¡ximo de 48 horas hÃ¡biles.
          </p>
          <button class="btn btn-primary" type="submit">
            Enviar mensaje
          </button>
        </div>
      </form>
    </div>

    
    <aside class="card contact-side">
      <div class="contact-side-badge">
        <span class="contact-icon">ðŸ’¬</span>
        <span>Equipo IncluiMap</span>
      </div>

      <h3>Construyamos juntos una ciudad mÃ¡s accesible.</h3>
      <p>
        Cada mensaje nos ayuda a mejorar el mapa y a visibilizar las barreras
        que viven las personas con movilidad reducida, adultos mayores y
        cuidadoras/es en la ciudad.
      </p>

      <ul class="contact-list">
        <li>
          <strong>Correo de contacto</strong>
          <span>soporte@incluimap.cl (ejemplo para la maqueta)</span>
        </li>
        <li>
          <strong>Horario de atenciÃ³n</strong>
          <span>Lunes a viernes, 09:00 a 18:00 hrs (CL).</span>
        </li>
        <li>
          <strong>Â¿QuÃ© puedes contarnos?</strong>
          <span>
            Problemas de accesibilidad que hayas visto, ideas para nuevas
            funcionalidades o si tu organizaciÃ³n quiere sumarse al proyecto.
          </span>
        </li>
      </ul>

      <div class="contact-tags">
        <span class="contact-tag">Accesibilidad urbana</span>
        <span class="contact-tag">Comunidades</span>
        <span class="contact-tag">ColaboraciÃ³n</span>
      </div>
    </aside>
  </div>
</div>

{% endblock %}

